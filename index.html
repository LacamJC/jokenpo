<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Jokenpo</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>
  <body>
    <div class="bg-succsess  my-5" id="container">
        <h1 class="text-center">Jokenpo Online</h1>

        <div class="placar row w-100 m-auto" >
            <!-- <div class="mb-3 col">
                <h3>joao</h3>
                <div class="fw-bold  pontuacao">5</div>
            </div>
            <div class="mb-3 col">
                <h3>davi</h3>
                <div class="fw-bold m-auto  pontuacao">2</div>
            </div> -->
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Jo√£o</th>
                    <th>Davi</th>
                  </tr>
                </thead>
                <tbody id="tbody">


                </tbody>
              </table>
        </div>

        <div id="davi" class="row m-auto w-100">
            <div class="mb-3 col-12"><input type="button" value="Pedra" class="btn btn-primary btn-lg w-100" onclick="jokenpo('PEDRA')"></div>
            <div class="mb-3 col-12"><input type="button" value="Papel" class="btn btn-primary btn-lg w-100" onclick="jokenpo('PAPEL')"></div>
            <div class="mb-3 col-12"><input type="button" value="Tesoura" class="btn btn-primary btn-lg w-100" onclick="jokenpo('TESOURA')"></div>
        </div>

        <div id="resultado" class="  m-5" > 

        </div>
    </div>




    <script>
        var cont = 0
        function jokenpo(x)
        {
            let joao = Math.floor(Math.random() * 3) + 1
            let davi = x
            let resultado = document.getElementById('resultado')
            let ganhador;
            let resComp;
            let resUsu;
            let tabela = document.getElementById('tbody')
          
            // console.log(joao)
            resultado.innerHTML = '<div id="loader" class="loader"></div>'
            switch (joao)
            {
                case 1:
                    // console.log("PEDRA")
                    joao = "PEDRA"
                    break;
                    case 2: 
                        // console.log("PAPEL")
                        joao = "PAPEL"
                        break; 
                        case 3: 
                            // console.log("TESOURA")
                            joao = "TESOURA"
                            break;
            }

            // console.log(`joao : ${joao}`)
            // console.log(`davi : ${davi}`)

            if(joao == davi)
            {
                console.log("EMPATE")
                console.log(`joao : ${joao}`)
                console.log(`davi : ${davi}`)
                ganhador = "Empate"

                resComp = "Empate"
                resUsu = "Empate"
            }
            
            // VITORIAS DO joao
            else if(joao == "PEDRA" && davi == "TESOURA")
            {
                console.log("joao VENCEU")
                console.log(`joao : ${joao}`)
                console.log(`davi : ${davi}`)

                ganhador = "joao"
                resComp = "Vencedor"
                resUsu = "Perdedor"
            }else 

            if(joao == "TESOURA" && davi == "PAPEL")
            {
                console.log("joao VENCEU")
                console.log(`joao : ${joao}`)
                console.log(`davi : ${davi}`)
                ganhador = "joao"
                resComp = "Vencedor"
                resUsu = "Perdedor"
            }else 
            if(joao == "PAPEL" && davi == "PEDRA")
            {
                console.log("joao VENCEU")
                console.log(`joao : ${joao}`)
                console.log(`davi : ${davi}`)
                ganhador = "joao"
                resComp = "Vencedor"
                resUsu = "Perdedor"
            }


            
            // VITORIAS DO davi
            else 
            if(joao == "PAPEL" && davi == "TESOURA")
            {
                console.log("davi VENCEU")
                console.log(`joao : ${joao}`)
                console.log(`davi : ${davi}`)

                ganhador = "davi"
                resComp = "Perdedor"
                resUsu = "Vencedor"
            }
            if(joao == "TESOURA" && davi == "PEDRA")
            {
                console.log("davi VENCEU")
                console.log(`joao : ${joao}`)
                console.log(`davi : ${davi}`)
                ganhador = "davi"
                resComp = "Perdedor"
                resUsu = "Vencedor"
            }else 
            if(joao == "PEDRA" && davi == "PAPEL")
            {
                console.log("davi VENCEU")
                console.log(`joao : ${joao}`)
                console.log(`davi : ${davi}`)
                ganhador = "davi"
                resComp = "Perdedor"
                resUsu = "Vencedor"
            }


            setTimeout(function() {
                cont ++;
                resultado.innerHTML = `    <div class="alert alert-primary"><p>O vencedor foi : <strong>${ganhador}</strong></p><p>O davi escolheu <strong>${davi}</strong> e o joao escolheu <strong>${joao}</strong></p></div>`

                tbody.innerHTML += `<tr><th scope="row">${cont}</th><td>${resComp}</td><td>${resUsu}</td></tr> `
            }, Math.floor(Math.random() * 9001) + 1000)
            

        }
        
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
</html>